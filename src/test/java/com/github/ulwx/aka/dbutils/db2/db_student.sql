
-- ----------------------------
-- Table structure for course
-- ----------------------------
drop table  "course";
CREATE TABLE "course" (
   "id"  INTEGER generated by default as identity,
  "name" varchar(20),
  "class_hours" integer,
  "teacher_id" integer,
  "creatime" timestamp,
   PRIMARY KEY("id")
);
COMMENT ON COLUMN "course"."id" IS '课程id';
COMMENT ON COLUMN "course"."name" IS '课程名称';
COMMENT ON COLUMN "course"."class_hours" IS '学时';
COMMENT ON COLUMN "course"."teacher_id" IS '对应于db_teacher数据库里的teacher表';
COMMENT ON COLUMN "course"."creatime" IS '建立时间';
COMMENT ON TABLE "course" IS '课程';
-- ----------------------------
-- Records of course
-- ----------------------------
INSERT INTO "course" VALUES (1, 'course1', 11, 1, '2021-03-15 22:31:48');
INSERT INTO "course" VALUES (2, 'course2', 12, 2, '2021-03-15 22:31:48');
INSERT INTO "course" VALUES (3, 'course3', 13, 3, '2021-03-15 22:31:48');
INSERT INTO "course" VALUES (4, 'course4', 10, 4, '2021-03-15 22:31:48');
INSERT INTO "course" VALUES (5, 'course5', 11, 1, '2021-03-15 22:31:48');
INSERT INTO "course" VALUES (6, 'course6', 12, 1, '2021-03-15 22:31:48');
INSERT INTO "course" VALUES (7, 'course7', 13, 2, '2021-03-15 22:31:48');
INSERT INTO "course" VALUES (8, 'course8', 14, 2, '2021-03-15 22:31:48');
INSERT INTO "course" VALUES (9, 'course9', 15, 3, '2021-03-15 22:31:48');
INSERT INTO "course" VALUES (10, 'course10', 16, 4, '2021-03-15 22:31:48');
INSERT INTO "course" VALUES (11, 'course11', 17, 1, '2021-03-15 22:31:48');
INSERT INTO "course" VALUES (12, 'course12', 18, 0, '2021-03-15 22:31:48');
INSERT INTO "course" VALUES (13, 'course13', 19, 0, '2021-03-15 22:31:48');
INSERT INTO "course" VALUES (14, 'course14', 20, 2, '2021-03-15 22:31:48');
INSERT INTO "course" VALUES (15, 'course15', 21, 1, '2021-03-15 22:31:48');
INSERT INTO "course" VALUES (16, 'course16', 22, 2, '2021-03-15 22:31:48');
INSERT INTO "course" VALUES (17, 'course17', 23, 4, '2021-03-15 22:31:48');
INSERT INTO "course" VALUES (18, 'course18', 24, 1, '2021-03-15 22:31:48');
INSERT INTO "course" VALUES (19, 'course19', 25, 0, '2021-03-15 22:31:48');
INSERT INTO "course" VALUES (20, 'course20', 26, 0, '2021-03-15 22:31:48');
INSERT INTO "course" VALUES (21, 'course21', 27, 0, '2021-03-15 22:31:48');

ALTER TABLE "course" ALTER COLUMN "id" RESTART WITH 22;
-- ----------------------------
-- Table structure for student
-- ----------------------------
drop table  "student";
CREATE TABLE "student" (
  "id" INTEGER  generated by default as identity,
  "name" varchar(20),
  "age" integer,
  "birth_day" date,
  PRIMARY KEY("id")
);
COMMENT ON COLUMN "student"."id" IS '学生id';
COMMENT ON COLUMN "student"."name" IS '学生姓名';
COMMENT ON COLUMN "student"."age" IS '年龄';
COMMENT ON COLUMN "student"."birth_day" IS '出生日期';
COMMENT ON TABLE "student" IS '学生';
-- ----------------------------
-- Records of student
-- ----------------------------
INSERT INTO "student" VALUES (1, 'student1', 40, ('1980-10-08'));
INSERT INTO "student" VALUES (2, 'student2', 39, ('1981-11-01'));
INSERT INTO "student" VALUES (3, 'student3', 38, ('1982-10-08'));
INSERT INTO "student" VALUES (4, 'student4', 38, ('1982-05-08'));
INSERT INTO "student" VALUES (5, 'student5', 38, ('1982-06-08'));
INSERT INTO "student" VALUES (6, 'student6', 38, ('1982-07-08'));
INSERT INTO "student" VALUES (7, 'student7', 38, ('1982-03-08'));
INSERT INTO "student" VALUES (8, 'student8', 38, ('1982-04-08'));
INSERT INTO "student" VALUES (9, 'student9', 38, ('1982-06-08'));
INSERT INTO "student" VALUES (10, 'student10', 38, ('1982-04-08'));
INSERT INTO "student" VALUES (11, 'student11', 38, ('1982-06-08'));
INSERT INTO "student" VALUES (12, 'student12', 38, ('1982-07-08'));
INSERT INTO "student" VALUES (13, 'student13', 38, ('1982-01-08'));

ALTER TABLE "student" ALTER COLUMN "id" RESTART WITH 14;
-- ----------------------------
-- Table structure for student_course
-- ----------------------------
drop table  "student_course";
CREATE TABLE "student_course" (
  "id" INTEGER   generated by default as identity,
  "student_id" integer,
  "course_id" integer,
    PRIMARY KEY("id")

);
COMMENT ON COLUMN "student_course"."student_id" IS '学生id';
COMMENT ON COLUMN "student_course"."course_id" IS '课程id';
-- ----------------------------
-- Records of student_course
-- ----------------------------
INSERT INTO "student_course" VALUES (1, 1, 10);
INSERT INTO "student_course" VALUES (2, 2, 13);
INSERT INTO "student_course" VALUES (3, 3, 14);
INSERT INTO "student_course" VALUES (4, 4, 15);
INSERT INTO "student_course" VALUES (5, 5, 12);
INSERT INTO "student_course" VALUES (6, 6, 16);
INSERT INTO "student_course" VALUES (7, 7, 15);
INSERT INTO "student_course" VALUES (8, 8, 12);
INSERT INTO "student_course" VALUES (9, 9, 14);
INSERT INTO "student_course" VALUES (10, 10, 16);
INSERT INTO "student_course" VALUES (11, 11, 20);
ALTER TABLE "student_course" ALTER COLUMN "id" RESTART WITH 12;
-- ----------------------------
-- Table structure for student_many_courses
-- ----------------------------
drop table  "student_many_courses";
CREATE TABLE "student_many_courses" (
  "id" INTEGER   generated by default as identity,
  "student_id" integer,
  "course_id" integer,
  PRIMARY KEY("id")
);
COMMENT ON COLUMN "student_many_courses"."student_id" IS '学生id';
COMMENT ON COLUMN "student_many_courses"."course_id" IS '课程id';
-- ----------------------------
-- Records of student_many_courses
-- ----------------------------
INSERT INTO "student_many_courses" VALUES (1, 1, 10);
INSERT INTO "student_many_courses" VALUES (2, 1, 13);
INSERT INTO "student_many_courses" VALUES (3, 1, 13);
INSERT INTO "student_many_courses" VALUES (4, 4, 15);
INSERT INTO "student_many_courses" VALUES (5, 4, 12);
INSERT INTO "student_many_courses" VALUES (6, 6, 16);
INSERT INTO "student_many_courses" VALUES (7, 7, 15);
INSERT INTO "student_many_courses" VALUES (8, 7, 12);
INSERT INTO "student_many_courses" VALUES (9, 9, 14);
INSERT INTO "student_many_courses" VALUES (10, 9, 16);
INSERT INTO "student_many_courses" VALUES (11, 9, 20);
INSERT INTO "student_many_courses" VALUES (12, 10, 11);
ALTER TABLE "student_many_courses" ALTER COLUMN "id" RESTART WITH 13;
-- ----------------------------
-- Table structure for t1
-- ----------------------------
drop table  "t1";
CREATE TABLE "t1" (
  "id" INTEGER   generated by default as identity,
  "a" integer,
  "key_b" varchar(20),
  "key_c" varchar(30),
  PRIMARY KEY("id")
);

-- ----------------------------
-- Records of t1
-- ----------------------------

-- ----------------------------
-- Table structure for t2
-- ----------------------------
drop table   "t2";
CREATE TABLE "t2" (
  "id" INTEGER   generated by default as identity,
  "a" integer,
  "key_a" integer,
  "key_b" integer,
  PRIMARY KEY("id")
);


drop function "query_course_cnt_func"(VARCHAR(50));
--#SET TERMINATOR @
CREATE FUNCTION "query_course_cnt_func"(vname varchar(50))
    RETURNS INTEGER
    LANGUAGE SQL
BEGIN atomic
declare  v_pnumb integer;
set v_pnumb=10;
RETURN v_pnumb ;
END @
--#SET TERMINATOR ;

drop procedure "query_course_proc"(VARCHAR(45), INTEGER);
--#SET TERMINATOR @
CREATE  PROCEDURE "query_course_proc"(IN v_cname VARCHAR(45) , OUT v_cnt INT)
    LANGUAGE SQL
BEGIN
    SELECT count(1) into v_cnt  FROM "course" ;
END @
--#SET TERMINATOR ;
drop procedure "testproc"();
--#SET TERMINATOR @
CREATE  PROCEDURE "testproc"()
BEGIN
    declare  v_pnumb integer;
    set v_pnumb=1;
    select count(1)  into v_pnumb from "t1";
END @

--#SET TERMINATOR ;